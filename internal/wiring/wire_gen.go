// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package wiring

import (
	"github.com/google/wire"
	"github.com/th1enq/server_management_system/internal/app"
	"github.com/th1enq/server_management_system/internal/configs"
	"github.com/th1enq/server_management_system/internal/delivery"
	"github.com/th1enq/server_management_system/internal/delivery/http"
	"github.com/th1enq/server_management_system/internal/delivery/http/controllers"
	"github.com/th1enq/server_management_system/internal/delivery/http/presenters"
	"github.com/th1enq/server_management_system/internal/delivery/middleware"
	"github.com/th1enq/server_management_system/internal/infrastructure"
	"github.com/th1enq/server_management_system/internal/infrastructure/cache"
	"github.com/th1enq/server_management_system/internal/infrastructure/database"
	"github.com/th1enq/server_management_system/internal/infrastructure/repository"
	"github.com/th1enq/server_management_system/internal/infrastructure/search"
	"github.com/th1enq/server_management_system/internal/infrastructure/services"
	"github.com/th1enq/server_management_system/internal/jobs"
	"github.com/th1enq/server_management_system/internal/jobs/scheduler"
	"github.com/th1enq/server_management_system/internal/jobs/tasks"
	"github.com/th1enq/server_management_system/internal/usecases"
	"github.com/th1enq/server_management_system/internal/utils"
)

// Injectors from wire.go:

func InitializeStandardServer(configFilePath configs.ConfigFilePath) (*app.Application, func(), error) {
	config, err := configs.NewConfig(configFilePath)
	if err != nil {
		return nil, nil, err
	}
	server := config.Server
	log := config.Log
	logger, cleanup, err := utils.LoadLogger(log)
	if err != nil {
		return nil, nil, err
	}
	configsDatabase := config.Database
	databaseClient, err := database.NewDatabase(configsDatabase, logger)
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	serverRepository := repository.NewServerRepository(databaseClient)
	jwt := config.JWT
	tokenServices := services.NewJWTService(jwt)
	configsCache := config.Cache
	cacheClient, err := cache.NewCache(configsCache, logger)
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	tokenRepository := repository.NewTokenRepository(cacheClient)
	excelizeService := services.NewExcelizeService()
	serverUseCase := usecases.NewServerUseCase(serverRepository, tokenServices, tokenRepository, excelizeService, cacheClient, logger)
	serverPresenter := presenters.NewServerPresenter()
	serverController := controllers.NewServerController(serverUseCase, serverPresenter, logger)
	email := config.Email
	elasticSearch := config.Elasticsearch
	client, cleanup2, err := search.LoadElasticSearch(elasticSearch, logger)
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	healthCheckUseCase := usecases.NewHealthCheckUseCase(client, serverUseCase, logger)
	reportUseCase := usecases.NewReportUseCase(email, healthCheckUseCase, logger)
	reportPresenter := presenters.NewReportPresenter()
	reportController := controllers.NewReportController(reportUseCase, reportPresenter, logger)
	userRepository := repository.NewUserRepository(databaseClient)
	passwordService := services.NewBcryptService()
	userUseCase := usecases.NewUserUseCase(userRepository, passwordService, logger)
	authUseCase := usecases.NewAuthUseCase(userUseCase, tokenRepository, tokenServices, passwordService, logger)
	authPresenter := presenters.NewAuthPresenter()
	authController := controllers.NewAuthController(authUseCase, authPresenter, logger)
	userPresenter := presenters.NewUserPresenter()
	userController := controllers.NewUserController(userUseCase, userPresenter, logger)
	jobScheduler := scheduler.NewJobScheduler(logger)
	cron := config.Cron
	dailyReportTask := tasks.NewDailyReportTask(reportUseCase, cron, logger)
	jobManager := scheduler.NewJobManager(jobScheduler, dailyReportTask, logger)
	jobsPresenter := presenters.NewJobsPresenter()
	jobsController := controllers.NewJobsController(jobManager, jobsPresenter, logger)
	authMiddleware := middleware.NewAuthMiddleware(authUseCase, logger)
	controller := http.NewController(serverController, reportController, authController, userController, jobsController, authMiddleware)
	iServer := http.NewServer(server, logger, controller)
	application := app.NewApplication(iServer, jobManager, logger)
	return application, func() {
		cleanup2()
		cleanup()
	}, nil
}

// wire.go:

var WireSet = wire.NewSet(app.WireSet, configs.WireSet, delivery.WireSet, infrastructure.WireSet, jobs.WireSet, usecases.WireSet, utils.WireSet)
